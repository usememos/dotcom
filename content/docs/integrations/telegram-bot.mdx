---
title: Telegram Bot
description: Set up and configure Memogram, the official Telegram bot integration for Memos.
---

**Memogram** is the official Telegram bot integration service that syncs messages and images from Telegram directly into your Memos instance. It provides a simple and efficient way to capture thoughts, notes, and ideas from Telegram.

**Repository**: [github.com/usememos/telegram-integration](https://github.com/usememos/telegram-integration)

## Overview

Memogram enables you to:

- **Create memos** by sending text messages to your Telegram bot
- **Attach media** by sending photos and documents
- **Search memos** directly from Telegram with `/search`
- **Restrict access** to specific Telegram users for security

<Callout type="info">
Memogram uses Memos access tokens for authentication and connects to Memos via gRPC for optimal performance.
</Callout>

## Prerequisites

Before setting up Memogram, ensure you have:

- **Memos instance** running (with gRPC server accessible)
- **Telegram account** to create and interact with the bot
- **Memos access token** for authentication

## Step 1: Create Your Telegram Bot

1. **Open Telegram** and search for [@BotFather](https://t.me/botfather)
2. **Start a chat** with BotFather by clicking `/start`
3. **Create new bot** by sending `/newbot`
4. **Choose bot name**: Enter a display name (e.g., "My Memos Bot")
5. **Choose username**: Enter a unique username ending in "bot" (e.g., "MyMemosBot")
6. **Save the bot token**: BotFather will provide a token like `123456789:ABCdefGHIjklMNOpqrsTUVwxyZ`

<Callout type="warning">
**Security Note**: Keep your bot token secure! Anyone with access to the token can control your bot.
</Callout>

## Step 2: Get Your Memos Access Token

1. **Login to Memos** web interface
2. **Go to Settings** → **Access Tokens**
3. **Create new token**:
   - Name: "Telegram Bot"
   - Description: "Token for Telegram bot integration"
   - Expiration: Set appropriate expiry or leave blank for no expiry
4. **Copy the token** - you'll need it when starting the bot

## Step 3: Install and Run Memogram

### Option 1: Using Pre-built Binary

Download the latest release from the [Memogram releases page](https://github.com/usememos/telegram-integration/releases):

1. **Download** the appropriate binary for your operating system (latest version: v0.3.0)
   - Linux: `memogram_v0.3.0_linux_amd64.tar.gz`
   - macOS: `memogram_v0.3.0_darwin_arm64.tar.gz` (Apple Silicon) or `memogram_v0.3.0_darwin_amd64.tar.gz` (Intel)
   - Windows: `memogram_v0.3.0_windows_amd64.tar.gz`

2. **Extract** the archive and navigate to the directory

3. **Create a `.env` file** in the same directory:

```bash
SERVER_ADDR=dns:localhost:5230
BOT_TOKEN=your_telegram_bot_token
BOT_PROXY_ADDR=
ALLOWED_USERNAMES=
```

4. **Run the executable**:

```bash
./memogram
```

### Option 2: Using Docker

Run Memogram as a Docker container:

```bash
docker run -d --name memogram \
  -e SERVER_ADDR=dns:your-memos-host:5230 \
  -e BOT_TOKEN=your_telegram_bot_token \
  ghcr.io/usememos/memogram:latest
```

Or build the image yourself:

```bash
# Clone the repository
git clone https://github.com/usememos/telegram-integration
cd telegram-integration

# Build the image
docker build -t memogram .

# Run the container
docker run -d --name memogram \
  -e SERVER_ADDR=dns:localhost:5230 \
  -e BOT_TOKEN=your_telegram_bot_token \
  memogram
```

### Option 3: Using Docker Compose

Create a `docker-compose.yml` file:

```yaml
services:
  memogram:
    image: ghcr.io/usememos/memogram:latest
    container_name: memogram
    environment:
      - SERVER_ADDR=dns:memos:5230
      - BOT_TOKEN=your_telegram_bot_token
    restart: unless-stopped

  memos:
    image: neosmemo/memos:latest
    container_name: memos
    ports:
      - "5230:5230"
    volumes:
      - ./memos:/var/opt/memos
    restart: unless-stopped
```

Then start both services:

```bash
docker compose up -d
```

## Configuration

### Environment Variables

| Variable | Required | Description |
|----------|----------|-------------|
| `SERVER_ADDR` | Yes | gRPC server address where Memos is running (e.g., `dns:localhost:5230`) |
| `BOT_TOKEN` | Yes | Your Telegram bot token from BotFather |
| `BOT_PROXY_ADDR` | No | Optional proxy address for Telegram API (useful in restricted regions) |
| `ALLOWED_USERNAMES` | No | Comma-separated list of allowed Telegram usernames (without @ symbol) |

### Server Address Format

The `SERVER_ADDR` follows [gRPC Name Resolution](https://github.com/grpc/grpc/blob/master/doc/naming.md) format:

- **Local instance**: `dns:localhost:5230`
- **Remote instance**: `dns:memos.example.com:5230`
- **Docker network**: `dns:memos:5230` (if using Docker Compose)

### Restricting Access

To restrict bot usage to specific users, set `ALLOWED_USERNAMES`:

```bash
ALLOWED_USERNAMES=alice,bob,charlie
```

**Important notes:**
- Usernames must not include the @ symbol
- Users must have a username set in their Telegram account
- Unauthorized users will receive an error message: "you are not authorized to use this bot"
- Leave empty to allow all users

## Usage

### Starting the Bot

Once Memogram is running, open Telegram and search for your bot:

1. **Start conversation** by sending `/start <access_token>`
   - Replace `<access_token>` with your Memos access token
   - Example: `/start memo_AbC123XyZ456...`

2. **Verify connection** - the bot will confirm successful authentication

### Available Commands

- `/start <access_token>` - Initialize the bot with your Memos access token
- `/search <words>` - Search for memos containing specific words
- Send any text message - Creates a new memo with that content
- Send photos/documents - Saves files as resources attached to a memo

### Creating Memos

Simply send any message to the bot, and it will be saved as a memo in your Memos instance:

- **Text messages** → Saved as memo content
- **Photos** → Attached as resources
- **Documents** → Attached as resources
- **Voice notes** → Handled based on Telegram's file type

### Searching Memos

Use the search command to find existing memos:

```
/search meeting notes
/search project idea
/search #tag
```

## Troubleshooting

### Bot Not Responding

If the bot doesn't respond, check the following:

1. **Verify bot token**: Make sure your `BOT_TOKEN` is correct
2. **Check server address**: Ensure `SERVER_ADDR` points to the correct Memos gRPC server
3. **View logs**: Check Memogram logs for error messages
4. **Test connectivity**: Verify network connection between Memogram and Memos

```bash
# If running with Docker, check logs
docker logs memogram

# Test if Memos gRPC server is accessible
telnet your-memos-host 5230
```

### Authentication Errors

If you receive authentication errors:

1. **Verify access token**: Make sure the token is still valid in Memos Settings → Access Tokens
2. **Re-authenticate**: Send `/start <new_access_token>` with a fresh token
3. **Check permissions**: Ensure the access token has sufficient permissions

### Connection Issues

If Memogram can't connect to Memos:

1. **Check gRPC port**: Default is 5230, ensure it's accessible
2. **Firewall rules**: Verify firewall allows connections to port 5230
3. **Docker networking**: If using Docker, ensure containers are on the same network
4. **Proxy settings**: If in a restricted region, configure `BOT_PROXY_ADDR`

### User Authorization

If receiving "not authorized" messages:

1. **Check username**: Ensure your Telegram account has a username set
2. **Verify allowed list**: Check that your username is in `ALLOWED_USERNAMES` (if configured)
3. **Case sensitivity**: Usernames are case-sensitive, verify exact spelling

## Advanced Configuration

### Using a Proxy

If Telegram API is blocked in your region, configure a proxy:

```bash
BOT_PROXY_ADDR=https://api.your-proxy.com
```

### Security Best Practices

- **Use access tokens with expiration** for better security
- **Restrict to specific users** via `ALLOWED_USERNAMES` in production
- **Rotate tokens regularly** and update bot configuration
- **Monitor bot logs** for suspicious activity
- **Use secure connections** (TLS/SSL) for Memos server

### Running as a System Service

For production deployments, run Memogram as a systemd service on Linux:

```ini
# /etc/systemd/system/memogram.service
[Unit]
Description=Memogram Telegram Bot
After=network.target

[Service]
Type=simple
User=memogram
WorkingDirectory=/opt/memogram
EnvironmentFile=/opt/memogram/.env
ExecStart=/opt/memogram/memogram
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

Enable and start the service:

```bash
sudo systemctl enable memogram
sudo systemctl start memogram
sudo systemctl status memogram
```

## Resources

- **Source Code**: [github.com/usememos/telegram-integration](https://github.com/usememos/telegram-integration)
- **Latest Release**: [Memogram v0.3.0](https://github.com/usememos/telegram-integration/releases/latest)
- **Issues & Support**: [GitHub Issues](https://github.com/usememos/telegram-integration/issues)
- **Memos Discussions**: [GitHub Discussions](https://github.com/usememos/memos/discussions)

---

Need help? Check the [Memogram repository](https://github.com/usememos/telegram-integration) or ask in the [Memos community](https://github.com/usememos/memos/discussions).